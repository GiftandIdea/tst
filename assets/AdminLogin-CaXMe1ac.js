import{c as p,u as f,a as y,r as t,j as e,L as j,C as w,b as N,d as v,S as L,s as l}from"./index-Bvt_2ec9.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],k=p("mail",S),q=()=>{const r=f(),{lang:E}=y(),[n,h]=t.useState(""),[i,g]=t.useState(""),[o,c]=t.useState(!1),[d,x]=t.useState(null),m="bdbadc8a-42d1-41d7-8b13-2b683a8033a3";t.useEffect(()=>{(async()=>{const{data:{user:a}}=await l.auth.getUser();a&&a.id===m&&r("/admin/dashboard")})()},[r]);const b=async s=>{s.preventDefault(),c(!0),x(null);try{const{data:a,error:u}=await l.auth.signInWithPassword({email:n,password:i});if(u)throw u;if(a.user&&a.user.id===m)r("/admin/dashboard");else throw await l.auth.signOut(),new Error("Access Denied: Admin privileges required.")}catch(a){x(a.message||"Invalid credentials")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 font-sans",children:e.jsxs("div",{className:"w-full max-w-sm bg-white rounded-3xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx(j,{className:"mb-4 scale-90"}),e.jsx("h2",{className:"text-xl font-black text-charcoal",children:"تسجيل دخول الموظفين"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"يرجى إدخال البيانات للوصول للوحة التحكم"})]}),d&&e.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-100 text-red-500 text-xs font-bold rounded-xl flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),d]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"email",required:!0,className:"w-full pr-10 pl-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all text-sm font-bold text-charcoal",placeholder:"name@example.com",value:n,onChange:s=>h(s.target.value)})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-500",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"password",required:!0,className:"w-full pr-10 pl-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all text-sm font-bold text-charcoal",placeholder:"••••••••",value:i,onChange:s=>g(s.target.value)})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full mt-4 bg-brand-gradient text-white py-3.5 rounded-xl font-bold text-sm hover:shadow-lg hover:shadow-primary/20 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:o?e.jsx(v,{className:"w-4 h-4 animate-spin"}):"دخول"})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-1 text-[10px] text-gray-400 font-bold",children:[e.jsx(L,{className:"w-3 h-3 text-green-500"}),"منطقة آمنة ومحمية"]})]})})};export{q as default};
